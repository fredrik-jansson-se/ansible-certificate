---
# certificate defaults

certificate_role_version: 1.4-CURRENT
certificate_install: true
certificate_debug: false
certificate_debug_classified: false
certificate_backup_conf: false

# help
certificate_help_text: |
  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
  Ansible role vbotka.certificate {{ certificate_role_version }}
  Manage SSL certificates

  USAGE

  Display this help
  shell> ansible-playbook playbook.yml

  Generate a Self Signed OpenSSL certificates by openssl command
  shell> ansible-playbook playbook.yml -t certificate_command

  Generate OpenSSL private keys by openssl_privatekey module
  shell> ansible-playbook playbook.yml -t certificate_openssl_privatekey

  Generate OpenSSL Certificate Signing Requests by openssl_csr module
  shell> ansible-playbook playbook.yml -t certificate_openssl_csr

  Generate OpenSSL certificatse by openssl_certificate module
  shell> ansible-playbook playbook.yml -t certificate_openssl_certificate

  Generate OpenSSL private keys, CSRs, and certificatses by openssl_* modules
  (-t certificate_openssl_privatekey,certificate_openssl_csr,certificate_openssl_certificate)
  shell> ansible-playbook playbook.yml -t certificate_openssl

  Display information on OpenSSL private keys (when certificate_debug_classified=true)
  shell> ansible-playbook playbook.yml -t certificate_openssl_privatekey_info

  Display information on OpenSSL Certificate Signing Requests (when certificate_debug_classified=true)
  shell> ansible-playbook playbook.yml -t certificate_openssl_csr_info

  Display information on OpenSSL certificates (when certificate_debug_classified=true)
  shell> ansible-playbook playbook.yml -t certificate_openssl_certificate_info

  SETUP

  Display debug info (when certificate_debug=true)
  shell> ansible-playbook playbook.yml -t certificate_debug

  Install packages (when certificate_install=true)
  shell> ansible-playbook playbook.yml -t certificate_packages

  Test the sanity (when certificate_sanity=true)
  shell> ansible-playbook playbook.yml -t certificate_sanity

  Create directories
  shell> ansible-playbook playbook.yml -t certificate_dirs

  NOTES

  1) Example playbook.yml

     sheel> cat playbook.yml
     - hosts: srv.example.com
       roles:
         - vbotka.certificate

  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
  https://github.com/vbotka/ansible-certificate

certificate_known_tags:
  - certificate_command
  - certificate_openssl
  - certificate_openssl_privatekey
  - certificate_openssl_privatekey_info
  - certificate_openssl_csr
  - certificate_openssl_csr_info
  - certificate_openssl_certificate
  - certificate_openssl_certificate_info
  - certificate_vars
  - certificate_debug
  - certificate_packages
  - certificate_sanity
  - certificate_dirs

# sanity
certificate_sanity: true
certificate_sanity_platform: true
certificate_sanity_ansible_version: true
certificate_sanity_packages: true

# FreeBSD
freebsd_install_method: packages
# freebsd_install_method: ports
freebsd_use_packages: true
freebsd_install_retries: 10
freebsd_install_delay: 5

# Linux
linux_install_retries: 10
linux_install_delay: 5

# ssl directories
certificate_dir: /etc/ssl
certificate_dir_csr: "{{ certificate_dir }}/csr"
certificate_dir_certs: "{{ certificate_dir }}/certs"
certificate_owner: root
certificate_dir_mode: "0755"
certificate_file_mode: "0644"

# ssl private
certificate_private_dir: "{{ certificate_dir }}/private"
certificate_private_owner: root

# certificate default parameters
certificate_default_backend: auto
certificate_default_size: 4096
certificate_default_type: RSA
certificate_default_provider: selfsigned

# acme directories
certificate_acme_dir: "{{certificate_acme_base_dir}}/etc/letsencrypt"
certificate_acme_dir_csr: "{{ certificate_acme_dir }}/csr"
certificate_acme_dir_certs: "{{ certificate_acme_dir }}/archive"
certificate_acme_dir_private: "{{ certificate_acme_dir }}/keys"
certificate_acme_dir_challenges: "{{ certificate_acme_dir }}/challenges"
certificate_acme_owner: root
certificate_acme_group: wheel
certificate_acme_dir_mode: "0755"

# self-signed certs by openssl command
certificate_self_signed_command: []

# certs by openssl_certificate module
certificate_data: []

# Ansible Library. Variables for included tasks.
al_debug: false

# Ansible Library. Variables for al_sanity_platform
al_sanity_platform_gather_subset: true
al_sanity_platform_fail: true
al_sanity_platform_version_fail: true
al_sanity_platform_end_host: false
al_sanity_platform_version_end_host: false
al_sanity_platform_warning: true

# Ansible Library. Variables for al_sanity_ansible_version
al_sanity_ansible_version_fail: true
al_sanity_ansible_version_end_host: false
al_sanity_ansible_version_warning: true

# EOF
...
